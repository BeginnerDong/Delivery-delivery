<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<meta name="renderer" content="webkit">
		<meta name="description" content="">
		<meta name="keywords" content="">
		<title>代买</title>
		<script src="./js/vue.js"></script>
		<script type="text/javascript" src="js/jquery.min.js"></script>
		<script type="text/javascript" src="js/base.js"></script>
		<link type="text/css" rel="stylesheet" href="css/public.css">
		<link rel="stylesheet" type="text/css" href="css/page.css">
	</head>

<body style="padding-bottom: 100px;">
	<div id="app">
		<!-- 标题 -->
		<div class="T-head line50 center fs16 Tfix-head">
			<a class="back-next pa" href="javascript:history.go(-1);"><img class="icon" src="images/backIcon.png" ></a>
			代买
		</div>
		<div class="h50"></div>
		
		<div class="agentMsg pdlr4" >
			<div class="proNav">
				<ul>
					<li :class="clickCur==index?'on':''" v-for="(item,index) in buyProData"  :key="index" @click="clickPro(index)">
						<img class="icon" :src="item.iconUrl">
						<span>{{item.title}}</span>
					</li>
				</ul>
			</div>
		</div>
		<div class="f5H10"></div>
		<div class="agentMsg pdlr4 mgt10" >
			<div class="editTex">
				<textarea rows="" cols="4"  placeholder="" style="font-size: 14px;">帮我买怡宝矿泉水2瓶</textarea>
			</div>
		</div>
		<div class="bordB1"></div>
		<div class="qsLineinfor">
			<ul>
				<li class="flexRowBetween" style="border-bottom: none;">
					<div class="left" style="width: 80%;"><em class="red fs12">骑手垫付商品费，送货时当面结清</em></div>
					<div class="right" style="width: 20%;"  @click="dianfuShow">
						<img class="arrowR" src="images/icon.png" >
					</div>
				</li>
				<div class="f5H10"></div>
				
				<li class="flexRowBetween liContbox2" >
					<div class="left">购买：</div>
					<div class="right bordB1" style="justify-content: initial; flex-direction: column;">
						<div class="smallnav">
							<span class="mgr15" :class="num==1?'on':''" @click="seltChage('1')">指定地址<em class="mgl5 pucolor fs12">更精准</em></span>
							<span :class="num==2?'on':''" @click="seltChage('2')">骑手就近购买<em class="mgl5 color9 fs12">3公里内</em></span>
						</div>
						<div class="flexRowBetween pdt15" style="width: 100%;" v-if="num==1">
							请选择<img class="arrowR" src="images/icon.png" >
						</div>
						
					</div>
				</li>
				
				<li class="flexRowBetween liContbox2">
					<div class="left">收货：</div>
					<div class="right" >
						<input type="text" name="" id="" value="" placeholder="具体的楼号、楼层和门牌号" />
						<img class="arrowR" src="images/icon.png" >
					</div>
				</li>
				<div class="f5H10"></div>
				
				<li class="flexRowBetween">
					<div class="left">优惠券：</div>
					<div class="right" @click="couponShow">
						请选择<img class="arrowR" src="images/icon.png" >
					</div>
				</li>
				<li class="flexRowBetween">
					<div class="left">小费：</div>
					<div class="right" @click="tippingShow">
						给小费抢单更快哟<img class="arrowR" src="images/icon.png" >
					</div>
				</li>
				<li class="flexRowBetween">
					<div class="left">购买时间：</div>
					<div class="right" @click="accessShow">
						<span class="fs14 color3">立即购买</span><img class="arrowR" src="images/icon.png" >
					</div>
				</li>
			</ul>
		</div>
		
		<div class="qusUnderFix flexRowBetween">
			<div class="left flex fs12" @click="moneyMxShow">
				总价&nbsp;<em class="price ftw">20.6</em>
				<img class="arrowR" src="images/icon.png" >
			</div>
			<div class="right">提交订单</div>
		</div>
		
		<!-- 弹框背景 -->
		<div class="black-bj" v-show="is_show"></div>
		
		<!-- 垫付商品费弹框 -->
		<div class="qjAlertCont dianfuShow" v-show="is_dianfuShow">
			<div class="flexRowBetween pdlr4 line40 bordB1">
				<span class="fs12 color6" @click="dianfuShow">取消</span>
				<span>预估商品费</span>
				<span class="pucolor fs12">确定</span>
			</div>
			<div class="pdtb15 center color6 fs12">供骑手代购时参考(可选填)</div>
			<div class=" flexCenter pucolor" style="text-align: center; border: 1px solid #2FA0ED; width: 75%;margin: 0 auto;border-radius: 5px;padding: 5px; font-size: 13px;">
				预估￥&nbsp;<input type="text" value="" placeholder="" style="width: 30%;">
			</div>
			<div class="pdt15 pdb30 center color6 fs12 flexCenter"><img src="images/icon1.png" style="width: 14px; height: 14px; display: block;">&nbsp;最高可代购价值500元的商品</div>
		</div>
		
		<!-- 购买时间弹框 -->
		<div class="qjAlertCont accessShow" style="padding-bottom: 80px;" v-show="is_accessShow">
			<div class="flexRowBetween pdlr4 line40 bordB1">
				<span class="fs12 color6" @click="accessShow">取消</span>
				<span>购买时间</span>
				<span class="pucolor fs12">确定</span>
			</div>
			<div class="setData fs12 color6">
				<ul>
					<li class="flexRowBetween" v-for="(item,index) in setData" :key="index" @click="qjSetData(index)">
						<span>{{item.title}}</span>
						<span class="center">{{item.thatDay}}</span>
						<span class="seltBtn">
							<img class="icon" :src="seltData==index?'images/coupons-icon.png':'images/coupons-icon1.png'" alt="">
						</span>
					</li>
				</ul>
			</div>
		</div>
		
		<!-- 优惠券 -->
		<div class="qjAlertCont couponShow" v-show="is_couponShow">
			<div class="q-close" @click="couponShow">取消</div>
			<h1 class="center line40 bordB1 ftn">优惠券</h1>
			<div class="infor">
				<ul>
					<li v-for="(item,,index) in couponDate" @click="seltCoupon(index)">
						<span>{{item}}</span>
						<img class="setIcon" :src="seltCur == index?'images/coupons-icon.png':'images/coupons-icon1.png'" alt="">
					</li>
				</ul>
			</div>
			<div class="qusUnderFix flexRowBetween">
				<div class="left flex fs12" >
					总价&nbsp;<em class="price ftw">20.6</em>
					<img class="arrowR" src="images/icon.png" >
				</div>
				<div class="right">提交订单</div>
			</div>
		</div>
		
		<!-- 小费弹框 -->
		<div class="qjAlertCont tippingShow" v-show="is_tippingShow">
			<div class="flexRowBetween pdlr4 line40 bordB1">
				<span class="fs12 color6" @click="tippingShow">取消</span>
				<span>小费</span>
				<span class="pucolor fs12">确定</span>
			</div>
			<div class="wpMsgBox pdlr4 mgt20">
				<div class="item">
					<span v-for="(item,index) in tipDate" :key="index" :class="[seltCurr == index?'on':'']" @click="seltSpecs(index)">{{item}}</span>
				</div>
			</div>
		</div>
		
		<!-- 费用明细 -->
		<div class="qjAlertCont moneyMxShow" v-show="is_moneyMxShow" style="padding-bottom:60px;">
			<div class="flexRowBetween pdlr4 line40 bordB1">
				<span class="fs12 color6" @click="moneyMxShow">关闭</span>
				<span>费用明细</span>
				<span class="flex">
					<a class="pucolor fs12" href="price_specs.html">价格规格</a>
					<img class="arrowR" src="images/icon.png" >
				</span>
			</div>
			<div class="pdlr4 list">
				<ul>
					<li class="flexRowBetween" v-for="(item,index) in moneyMxDate" :key='index'>
						<span>{{item.title}}<em class="fs12 color9">{{item.range}}</em></span>
						<span>{{item.price}}</span>
					</li>
				</ul>
			</div>
			<div class="qusUnderFix flexRowBetween">
				<div class="left flex fs12" @click="moneyMxShow">
					总价&nbsp;<em class="price ftw">20.6</em>
					<img class="arrowR" src="images/icon.png" >
				</div>
				<div class="right">提交订单</div>
			</div>
		</div>
		
	</div>
</body>

	
<script type="text/javascript">
	var app = new Vue({
		    el: '#app',
		    data:function(){
		        return {
					is_show:false,
					mainData: [],
					buyProData:[
						{title:'随意购',iconUrl:'images/daimai-icon.png'},
						{title:'医药',iconUrl:'images/daimai-icon6.png'},
						{title:'星巴克',iconUrl:'images/daimai-icon7.png'},
						{title:'酒',iconUrl:'images/daimai-icon8.png'},
						{title:'早餐',iconUrl:'images/daimai-icon9.png'},
						{title:'星巴克',iconUrl:'images/daimai-icon7.png'},
						{title:'酒',iconUrl:'images/daimai-icon8.png'}
					],
					
					is_accessShow:false,
					seltData:0,
					setData:[
						{title:'今天',thatDay:'立即购买'},
						{title:'明天',thatDay:'23'}
					],
					seltCur:0,
					is_couponShow:false,
					couponDate:['抵扣券5元','满20元抵3元'],
					is_tippingShow:false,
					tipDate:['不加了','￥5','￥10','￥15','￥20','￥25','其他金额'],
					seltCurr:0,
					is_moneyMxShow:false,
					moneyMxDate:[
						{title:'基础配送费',price:'￥9'},
						{title:'距离附加',range:'2.9公里',price:'￥2.5'},
						{title:'重量附加',range:'6.0公斤',price:'￥6'},
						{title:'小费',price:'￥5'}
					],
					num:1,
					is_dianfuShow:false,
					clickCur:0
		        }
		    },
		    onLoad() {
		    	const self = this;
		    	// self.$Utils.loadAll(['getMainData'], self);
		    },
		    methods: {
				clickPro(index){
					const self = this;
					self.clickCur = index
				},
				// 起始时间弹框
				accessShow(){
					const self = this;
					self.is_show = !self.is_show
					self.is_accessShow = !self.is_accessShow
				},
				// 时间日期选择
				qjSetData(index){
					const self = this;
					self.seltData = index
				},
				
				// 优惠券
				seltCoupon(index){
					const self = this;
					self.seltCur = index
				},
				couponShow(){
					const self = this;
					self.is_show = !self.is_show
					self.is_couponShow = !self.is_couponShow
				},
				
				// 小费弹框
				tippingShow(){
					const self = this;
					self.is_show = !self.is_show
					self.is_tippingShow = !self.is_tippingShow
				},
				seltSpecs(index){
					const self = this;
					self.seltCurr=index
				},
				
				// 价格明细
				moneyMxShow(){
					const self = this;
					self.is_show = !self.is_show
					self.is_moneyMxShow = !self.is_moneyMxShow
				},
				seltChage(num){
					const self = this;
					if(num!=self.num){
						self.num = num
					}
				},
				// 垫付费用弹框
				dianfuShow(){
					const self = this;
					self.is_show = !self.is_show
					self.is_dianfuShow = !self.is_dianfuShow
				},
				getMainData() {
					const self = this;
					const postData = {};
					postData.tokenFuncName = 'getProjectToken';
					var callback = function(res){
					    console.log('getMainData', res);
					    self.mainData.push.apply(self.mainData,res.info.data);		        
					};
					self.$apis.orderGet(postData, callback);
				}
		    }
		});
	</script>
</html>